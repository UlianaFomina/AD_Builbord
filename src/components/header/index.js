import React from "react";
import {NavLink, useNavigate} from "react-router-dom";
import "./index.css";
import AuthService from "../../api/service/AuthService";

export const Header = ({ ...props }) => {
    const navigate = useNavigate()
    const username = localStorage.getItem('username')
    const role = localStorage.getItem("role")
    function logout() {
        AuthService.logout().then(r => navigate('/'));
        navigate("/")
    }

  return (
    <div className="header">
      <div className="header-right">
        <NavLink to="/main">
          <svg
            className="header-right-logo"
            x="0px"
            y="0px"
            width="50"
            height="50"
            viewBox="0 0 50 50"
          >
            <path d="M 5 4 C 4.448 4 4 4.448 4 5 L 4 9.6289062 C 8.074 8.1889063 12.567859 7.6361875 17.255859 8.2421875 C 29.947859 9.8831875 40.116812 20.051141 41.757812 32.744141 C 42.363813 37.433141 41.811094 41.927 40.371094 46 L 45 46 C 45.552 46 46 45.552 46 45 L 46 5 C 46 4.448 45.552 4 45 4 L 5 4 z M 15 6 L 44 6 L 44 35 L 43.945312 35 C 43.183312 19.377 30.623 6.8166875 15 6.0546875 L 15 6 z M 13.173828 10.003906 C 12.444125 10.023687 11.850063 10.102047 11.476562 10.154297 C 9.8355625 10.384297 8.5957031 10.742188 8.5957031 10.742188 C 8.9627031 10.776188 9.4622656 10.843063 9.8222656 10.914062 C 10.088266 10.852063 12.390453 10.327875 14.064453 10.546875 C 12.834945 10.680774 11.161072 11.187312 10.986328 11.240234 C 10.984328 11.240234 10.984422 11.242188 10.982422 11.242188 C 10.984422 11.243187 10.984328 11.244141 10.986328 11.244141 C 11.046328 11.262141 11.531344 11.407484 12.152344 11.771484 C 12.333344 11.722484 14.611156 11.118172 16.785156 11.076172 C 16.785156 11.076172 17.589281 11.433844 18.363281 11.964844 C 15.555281 11.953844 13.230969 12.492812 13.167969 12.507812 C 13.496969 12.798813 13.823188 13.148312 14.117188 13.570312 C 17.196188 13.109312 19.851562 13.310547 19.851562 13.310547 C 19.851562 13.310547 20.213953 13.749328 20.376953 13.986328 C 20.581953 14.284328 20.791125 14.654469 20.953125 14.980469 C 17.811125 14.613469 14.806688 14.876953 14.804688 14.876953 C 15.011688 15.411953 15.152516 15.983938 15.228516 16.585938 C 15.575516 16.582937 18.237953 16.587266 21.626953 17.197266 C 21.734953 17.973266 21.745156 18.805594 21.660156 19.683594 C 21.084156 19.533594 18.301625 18.838109 15.265625 18.537109 C 15.204625 19.295109 15.059891 20.085531 14.837891 20.894531 C 15.177891 20.974531 18.927297 21.86875 21.029297 22.71875 C 20.988297 22.85075 20.947344 22.982234 20.902344 23.115234 C 20.601344 24.017234 20.224297 24.922219 19.779297 25.824219 C 18.087297 24.992219 13.939453 23.371094 13.939453 23.371094 C 13.524453 24.298094 13.016828 25.238781 12.423828 26.175781 C 12.423828 26.175781 15.981312 28.203172 17.695312 29.326172 C 16.904312 30.455172 16.011391 31.564719 15.025391 32.636719 C 13.783391 31.522719 10.674453 29.117547 10.439453 28.935547 C 9.4374531 30.128547 8.174875 31.381953 7.796875 31.751953 L 11.527344 36.025391 C 11.493344 36.056391 11.456922 36.087141 11.419922 36.119141 C 10.612922 36.788141 9.7437656 37.417875 9.0097656 37.921875 C 8.3717656 38.354875 7.8441094 38.689641 7.6621094 38.806641 C 7.6191094 38.740641 5.1775469 34.844609 4.8105469 34.224609 C 4.5405469 34.423609 4.271 34.613781 4 34.800781 L 4 42.810547 C 4.439 42.599547 4.8784062 42.379484 5.3164062 42.146484 C 7.4194062 41.111484 9.459375 39.799203 11.359375 38.283203 C 12.576375 37.317203 13.853281 36.184953 15.113281 34.876953 C 16.610281 33.341953 17.911094 31.732516 18.996094 30.103516 C 23.110094 24.036516 24.212641 17.711766 21.181641 13.634766 C 18.780891 10.406016 15.362938 9.9445625 13.173828 10.003906 z M 18.767578 10.554688 C 19.233578 10.803688 19.621047 11.058547 19.623047 11.060547 C 19.646047 11.066547 21.615328 11.561969 23.361328 12.417969 C 23.361328 12.417969 21.772906 12.055062 20.753906 11.914062 C 21.174906 12.285063 21.575781 12.712203 21.925781 13.158203 C 21.925781 13.158203 25.166844 13.751203 26.589844 14.533203 C 26.589844 14.533203 27.271125 15.23575 27.828125 16.46875 C 25.607125 15.56475 23.091797 15.09375 23.091797 15.09375 C 23.425797 15.84375 23.663547 16.646422 23.810547 17.482422 C 23.810547 17.482422 26.575297 18.159156 28.654297 19.160156 C 28.834297 20.149156 28.899328 21.173031 28.861328 22.207031 C 26.407328 20.973031 23.970703 20.199219 23.970703 20.199219 C 23.921703 21.265219 23.751844 22.371 23.464844 23.5 C 23.464844 23.5 26.814312 24.999156 28.320312 25.910156 C 27.987313 27.243156 27.521938 28.551594 26.960938 29.808594 C 24.667938 28.314594 22.240234 26.986328 22.240234 26.986328 C 21.630234 28.454328 20.130859 30.857422 20.130859 30.857422 L 20.130859 30.859375 C 20.168859 30.885375 22.665078 32.602953 24.580078 34.126953 C 23.629078 35.571953 22.555672 36.959297 21.388672 38.279297 C 20.985672 37.893297 17.306641 34.619141 17.306641 34.619141 C 16.195641 35.910141 14.958469 37.168094 13.605469 38.371094 L 17.152344 42.396484 C 17.152344 42.396484 17.154297 42.398438 17.154297 42.398438 C 14.853297 44.297438 12.558594 45.736328 12.558594 45.736328 L 9.5996094 41.523438 C 9.5996094 41.523438 7.516 43.111297 4 44.779297 L 4 45.003906 C 4 45.553906 4.4460937 46 4.9960938 46 L 15.546875 46 C 28.432875 36.227 33.00575 22.251 27.71875 15 C 27.51275 14.717 27.277766 14.428875 27.009766 14.171875 C 26.774766 13.946875 26.545687 13.7445 26.304688 13.5625 C 23.650688 11.5565 18.767578 10.554688 18.767578 10.554688 z M 7.9941406 11.261719 C 7.3179219 11.237453 6.6061406 11.279516 5.8691406 11.384766 C 5.7891406 11.396766 5.7058594 11.408875 5.6308594 11.421875 C 5.4058594 11.459875 5.1792187 11.504687 4.9492188 11.554688 C 4.4942187 11.660687 4.182 11.765937 4 11.835938 L 4 12.716797 C 4.29 12.487797 4.5875781 12.271406 4.8925781 12.066406 C 5.4795781 11.940406 6.0496094 11.860219 6.5996094 11.824219 C 5.7486094 12.310219 4.766 12.968172 4 13.576172 L 4 14.255859 L 4.0273438 14.271484 C 4.0273438 14.271484 6.1872969 12.562172 7.9042969 11.826172 C 8.3182969 11.856172 8.7137969 11.914 9.0917969 12 C 6.5267969 13.087 4.6329531 14.435297 4.5019531 14.529297 C 4.7649531 14.685297 5.0051094 14.88025 5.0371094 14.90625 C 5.0701094 14.88525 7.5569687 13.331391 10.292969 12.400391 C 10.663969 12.570391 11.022031 12.782484 11.332031 13.021484 C 8.3520312 13.858484 5.4882813 15.351562 5.4882812 15.351562 C 5.6492812 15.539563 5.7920625 15.743938 5.9140625 15.960938 C 5.9330625 15.952938 5.9527969 15.944453 5.9667969 15.939453 C 9.0167969 14.635453 12.257813 13.966797 12.257812 13.966797 C 12.510813 14.313797 12.718906 14.701906 12.878906 15.128906 C 12.878906 15.128906 9.9705156 15.459203 6.2285156 16.658203 C 6.3935156 17.175203 6.4394531 17.564359 6.4394531 17.568359 C 6.4394531 17.568359 9.9677031 16.779406 13.220703 16.691406 C 13.265703 17.213406 13.248828 17.799391 13.173828 18.400391 C 11.247828 18.299391 6.6585156 18.544594 6.4785156 18.558594 C 6.4785156 18.558594 6.4620156 19.218844 6.2910156 19.839844 C 6.2910156 19.839844 9.6433594 19.946625 12.693359 20.515625 C 12.457359 21.245625 12.157781 21.964969 11.800781 22.667969 C 9.7677813 22.057969 6.6830938 21.316859 5.8710938 21.130859 C 5.6570937 21.656859 5.3883125 22.178594 5.0703125 22.683594 C 5.0703125 22.683594 8.8391563 24.327859 10.285156 25.130859 L 10.289062 25.130859 L 10.287109 25.132812 C 9.6591094 26.071813 8.4160156 27.386719 8.4160156 27.386719 C 8.0550156 27.116719 7.7145781 26.864906 7.3925781 26.628906 C 6.3935781 25.929906 4.9098125 24.892625 4.0078125 24.265625 C 4.0028125 24.262625 4.003 24.261766 4 24.259766 L 4 27.373047 L 5.9550781 29.65625 C 5.3110781 30.17525 4.655 30.646313 4 31.070312 L 4 32.929688 C 4.024 32.913688 4.0482656 32.898812 4.0722656 32.882812 C 4.9652656 32.275813 5.8460781 31.598562 6.7050781 30.851562 C 13.449078 24.987562 16.213906 17.133547 12.878906 13.310547 C 11.735906 11.999547 10.022797 11.334516 7.9941406 11.261719 z M 4 14.642578 L 4 21.755859 C 5.758 19.254859 6.01175 16.385375 4.46875 14.984375 C 4.32375 14.852375 4.166 14.739578 4 14.642578 z M 28.365234 14.658203 C 28.628234 14.997203 28.866219 15.345219 29.074219 15.699219 C 29.074219 15.699219 31.249719 17.316031 32.511719 18.957031 C 30.892719 17.801031 29.974469 17.333438 29.855469 17.273438 C 29.851469 17.271438 29.846797 17.269578 29.841797 17.267578 C 30.456797 18.786578 30.642578 20.044875 30.642578 20.046875 C 30.642578 20.046875 32.563969 21.051734 34.292969 22.552734 C 34.531969 23.662734 34.629281 24.797547 34.613281 25.935547 C 32.870281 24.398547 30.853516 23.199219 30.853516 23.199219 C 30.816516 24.500219 30.637562 25.818609 30.351562 27.099609 C 30.351562 27.099609 32.257281 28.307953 34.113281 30.001953 C 34.113281 30.001953 33.580703 32.403016 32.720703 34.291016 C 30.939703 32.630016 29.202406 31.337328 29.066406 31.236328 C 29.066406 31.236328 28.182 33.546234 26.75 35.865234 C 28.533 37.419234 30.208984 39.029297 30.208984 39.029297 C 29.184984 40.629297 28.027344 42.153125 26.777344 43.578125 L 26.775391 43.580078 L 23.585938 40.398438 C 22.289938 42.005437 20.868375 43.519109 19.359375 44.912109 C 19.431375 44.993109 20.074891 45.706047 20.337891 45.998047 L 26.898438 45.998047 C 29.907438 42.626047 32.470719 38.661063 34.011719 34.414062 C 35.348719 30.731063 36.075578 26.230516 34.892578 22.228516 C 34.813578 21.964516 34.725094 21.699641 34.621094 21.431641 C 34.243094 20.452641 33.75175 19.598734 33.21875 18.927734 C 31.77975 17.316734 30.151234 15.881203 28.365234 14.658203 z M 35.558594 21.972656 C 35.718594 22.455656 36.025312 23.434594 36.195312 24.308594 C 36.206313 24.366594 36.214656 24.417844 36.222656 24.464844 C 36.511656 24.945844 37.812328 27.239719 37.986328 29.761719 C 37.986328 29.765719 37.988281 29.769531 37.988281 29.769531 C 37.988281 29.769531 37.068719 28.481969 36.386719 27.667969 C 36.361719 29.053969 36.180625 30.44125 35.890625 31.78125 C 35.890625 31.78125 37.253281 33.358 37.863281 34.375 C 37.863281 34.375 37.448547 36.59275 36.560547 38.71875 C 35.656547 37.40475 34.501953 36.128906 34.501953 36.128906 C 33.825953 37.797906 32.969531 39.47725 32.019531 41.03125 C 32.019531 41.03125 33.745047 43.050953 34.123047 43.626953 C 33.616047 44.479953 33.122219 45.221 32.574219 46 L 34.167969 46 C 38.700969 39.308 38.927734 33.378187 38.927734 32.242188 C 38.927734 30.094188 38.567844 28.122547 37.964844 26.560547 C 37.964844 26.560547 37.023594 24.132656 35.558594 21.972656 z M 39.748047 33.095703 C 39.626047 34.857703 39.318359 36.402344 39.318359 36.402344 C 39.390359 36.635344 39.518125 37.017906 39.578125 37.253906 C 39.388125 39.072906 39.0445 40.839062 38.5625 42.539062 C 38.3305 41.685063 38.018047 40.8655 37.998047 40.8125 C 37.997047 40.8115 37.998047 40.809594 37.998047 40.808594 C 37.374047 42.470594 36.44075 44.426 35.59375 46 L 38.349609 46 C 38.690609 45.074 38.998953 44.085078 39.251953 43.080078 C 39.745953 41.040078 40 38.927391 40 36.775391 C 40 35.533391 39.914047 34.305703 39.748047 33.095703 z"></path>
          </svg>
        </NavLink>
          {
              role === "ADMIN"
                  ? (<NavLink to="/ad" className="header-right-link">Ad</NavLink>)
                  : <NavLink to="/ad" className="header-right-link">My Ad</NavLink>
          }
        <NavLink to="/devices" className="header-right-link">Devices</NavLink>
          {
              role === "ADMIN"
                  ? (<NavLink to="/users" className="header-right-link">Users</NavLink>)
                  : ('')
          }
      </div>
      <div className="header-left">
        <p className="header-left-username">{username}</p>
        <div className="header-left-btn" onClick={logout}>
          <p className="header-left-btn-text">Logout</p>
        </div>
      </div>
    </div>
  );
};
